<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <style>
      body {font-family:'Helvetica Neue', Arial, sans-serif; color:#333; font-size:13px; line-height:17px;}
      body .name,body .note {white-space:pre-wrap;}
      body ul {list-style:disc; margin:0; padding:0;}
      body li {margin:4px 0 4px 20px; padding:0;}
      body>.name {font-size:16px; line-height:21px;}
      body>.note {font-size:13px; line-height:17px;}
      body>ul {margin-top:15px;}
      body .name.done {text-decoration:line-through; color:#999;}
      body .note {font-size:12px; color:#666;}
    </style>
  </head>
  <body>
    <span class="name"><span class="innerContentContainer"><b>24-FWK-Other</b></span></span><ul><li><span class="name"><span class="innerContentContainer"><b>PMS: 包管理</b></span></span><ul><li><span class="name"><span class="innerContentContainer">APK组成结构</span></span><ul><li><span class="name"><span class="innerContentContainer">APK: Android Package, 即安卓应用安装包. APK文件其实是zip格式，但后缀名被修改为apk，通过UnZip解压后，可以看到Dex文件.</span></span></li><li><span class="name"><span class="innerContentContainer">AAPT工具：(android asset packing tool)，安卓资源打包工具</span></span></li><li><span class="name"><span class="innerContentContainer">APK文件其实是zip格式, 解压缩后是如下目录: </span></span><ul><li><span class="name"><span class="innerContentContainer">META-INF\（Jar文件中常可以看到）</span></span></li><li><span class="name"><span class="innerContentContainer">res\（存放资源文件的目录）</span></span></li><li><span class="name"><span class="innerContentContainer">AndroidManifest.xml（程序全局配置文件）</span></span><ul><li><span class="name"><span class="innerContentContainer">app包名 + 组件声明 + 程序兼容的最低版本 + 所需权限等程序的配置文件. </span></span></li><li><span class="name"><span class="innerContentContainer">一个apk一个.</span></span></li></ul></li><li><span class="name"><span class="innerContentContainer">classes.dex（<b>dex文件，Dalvik字节码</b>）</span></span></li><li><span class="name"><span class="innerContentContainer">resources.arsc(编译后的二进制资源文件）</span></span></li></ul></li><li><span class="name"><span class="innerContentContainer"><b>其中最重要的是 dex文件，即Dalvik字节码</b></span></span><ul><li><span class="name"><span class="innerContentContainer">android java代码编译为dex格式（Dalvik execute）文件。</span></span></li><li><span class="name"><span class="innerContentContainer">dex格式是专为Dalvik设计的一种压缩格式。</span></span></li><li><span class="name"><span class="innerContentContainer">Dex: DalvikVM executes的简称，即Android Dalvik执行程序, Dalvik字节码. </span></span></li><li><span class="name"><span class="innerContentContainer">一个dex档通常会有多个.class。</span></span></li><li><span class="name"><span class="innerContentContainer">dx 是一套工具，可以将 Java .class 转换成 .dex 格式. </span></span></li><li><span class="name"><span class="innerContentContainer">对classes.dex文件进行Cache优化后, 文件大小会增加1-4倍，这种文件以ODEX结尾。</span></span><ul><li><span class="name"><span class="innerContentContainer">APK中原来的classes.dex文件会保留。</span></span></li></ul></li><li><span class="name"><span class="innerContentContainer">Dalvik第一次加载时，会对每个apk进行优化，这个过程叫odex。目的是加快apk启动速度。所以手机第一次开机时间较长。</span></span></li></ul></li></ul></li><li><span class="name"><span class="innerContentContainer">AndroidManifest.xml解析</span></span></li><li><span class="name"><span class="innerContentContainer">APK安装流程</span></span></li><li><span class="name"><span class="innerContentContainer">APK管理，权限和查询</span></span></li><li><span class="name"><span class="innerContentContainer">APK卸载流程</span></span></li></ul></li><li><span class="name"><span class="innerContentContainer">PowerManagerService: 功耗管理   --参见 <a class="contentLink" target="_blank" rel="noreferrer" href="https://workflowy.com/#/a5573305b407">https://workflowy.com/#/a5573305b407</a></span></span></li><li><span class="name"><span class="innerContentContainer">BatteryService: 电池管理服务   --参见 <a class="contentLink" target="_blank" rel="noreferrer" href="https://workflowy.com/#/a5573305b407">https://workflowy.com/#/a5573305b407</a></span></span></li><li><span class="name"><span class="innerContentContainer">NotificationManagerService: 通知栏管理服务   --参见 <a class="contentLink" target="_blank" rel="noreferrer" href="https://workflowy.com/#/2bfbaf316a49">https://workflowy.com/#/2bfbaf316a49</a></span></span></li><li><span class="name"><span class="innerContentContainer">StatusBarManagerService: 状态栏管理服务</span></span></li><li><span class="name"><span class="innerContentContainer">视窗系统  --参见 <a class="contentLink" target="_blank" rel="noreferrer" href="https://workflowy.com/#/56a8ba6ce429">https://workflowy.com/#/56a8ba6ce429</a></span></span></li><li><span class="name"><span class="innerContentContainer">ContentProvider --参见 <a class="contentLink" target="_blank" rel="noreferrer" href="https://workflowy.com/#/e96b8978d6de">https://workflowy.com/#/e96b8978d6de</a></span></span></li><li><span class="name"><span class="innerContentContainer">Location  --参见 <a class="contentLink" target="_blank" rel="noreferrer" href="https://workflowy.com/#/cb01714441aa">https://workflowy.com/#/cb01714441aa</a></span></span></li><li><span class="name"><span class="innerContentContainer"><b>其它系统服务(运行于SystemServer)</b></span></span><ul><li><span class="name"><span class="innerContentContainer">EntropyService: 提供伪随机数</span></span></li><li><span class="name"><span class="innerContentContainer">AccountManagerService: 账户管理服务，android系统账户</span></span></li><li><span class="name"><span class="innerContentContainer">LightsService: 自然光强度感应传感器服务</span></span></li><li><span class="name"><span class="innerContentContainer">VibratorService: 震动器服务</span></span></li><li><span class="name"><span class="innerContentContainer">AlarmManagerService: 定时器管理服务，提供定时提醒服务</span></span></li><li><span class="name"><span class="innerContentContainer">BluetoothService: 蓝牙服务</span></span></li><li><span class="name"><span class="innerContentContainer">DevicePolicyManagerService: 系统级别的设置及属性管理</span></span></li><li><span class="name"><span class="innerContentContainer">ClipboardService: 系统剪切板服务</span></span></li><li><span class="name"><span class="innerContentContainer">InputMethodManagerService: 输入法管理服务</span></span></li><li><span class="name"><span class="innerContentContainer">NetworkManagementService: 网络管理服务</span></span></li><li><span class="name"><span class="innerContentContainer">NetStatService: 网络状态服务</span></span></li><li><span class="name"><span class="innerContentContainer">AccessibilityManagerService: 无障碍访问服务</span></span></li><li><span class="name"><span class="innerContentContainer">MountService: 挂载服务，可通过该服务调用Linux层面的mount程序</span></span></li><li><span class="name"><span class="innerContentContainer">SearchManagerService: 搜索管理服务</span></span></li><li><span class="name"><span class="innerContentContainer">DropBoxManagerService: 通过该服务访问Linux层面的Dropbox程序</span></span></li><li><span class="name"><span class="innerContentContainer">WallpaperManagerService: 墙纸管理服务，墙纸不等同于桌面背景，在View系统内部，墙纸可以作为任何窗口的背景</span></span></li><li><span class="name"><span class="innerContentContainer">AudioService: 音频管理服务</span></span></li><li><span class="name"><span class="innerContentContainer">BackupManagerService: 系统备份服务</span></span></li><li><span class="name"><span class="innerContentContainer">AppWidgetService: Widget服务</span></span></li><li><span class="name"><span class="innerContentContainer">RecognitionManagerService: 身份识别服务</span></span></li><li><span class="name"><span class="innerContentContainer">DiskStatsService: 磁盘统计服务</span></span></li></ul></li><li><span class="name"><span class="innerContentContainer">XMPP服务</span></span><ul><li><span class="name"><span class="innerContentContainer">开源的即时通讯框架.</span></span></li></ul></li><li><span class="name"><span class="innerContentContainer">Phone MS</span></span><ul><li><span class="name"><span class="innerContentContainer">属于协议领域.</span></span></li></ul></li><li><span class="name"><span class="innerContentContainer">华为飞马架构</span></span><ul><li><span class="name"><span class="innerContentContainer">2019年发展到 5.0</span></span></li><li><span class="name"><span class="innerContentContainer">芯片组件</span></span></li><li><span class="name"><span class="innerContentContainer">系统组件</span></span></li><li><span class="name"><span class="innerContentContainer">版本组件</span></span></li><li><span class="name"><span class="innerContentContainer">定制组件</span></span><ul><li><span class="name"><span class="innerContentContainer">代码+配置仓</span></span></li></ul></li></ul></li></ul>
  </body>
</html>