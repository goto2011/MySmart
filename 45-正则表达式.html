<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <style>
      body {font-family:'Helvetica Neue', Arial, sans-serif; color:#333; font-size:13px; line-height:17px;}
      body .name,body .note {white-space:pre-wrap;}
      body ul {list-style:disc; margin:0; padding:0;}
      body li {margin:4px 0 4px 20px; padding:0;}
      body>.name {font-size:16px; line-height:21px;}
      body>.note {font-size:13px; line-height:17px;}
      body>ul {margin-top:15px;}
      body .name.done {text-decoration:line-through; color:#999;}
      body .note {font-size:12px; color:#666;}
    </style>
  </head>
  <body>
    <span class="name"><b>45-正则表达式</b></span><ul><li><span class="name">典型例子</span><ul><li><span class="name">匹配不满足的行： ^(?!.*条件).*$     // ****</span></li><li><span class="name">删除重复行: ^(.*)(\r?\n\1)+$   -&gt; $1    // 牛逼. ****</span></li><li><span class="name">删除空行:  (\s*)\n  -&gt; \n. 还可以这样, \n+  -&gt; \n</span></li><li><span class="name"><b>去log的时间戳: ^[\d -:]+v</b></span></li><li><span class="name">匹配 doi:10.1038/nature13636 和 DOI: 10.1126/science.1256070 ：</span></li><li><span class="name">[dD][oO][iI]+: [ ]{0,1}10.[0-9]+/(nature|science.)[0-9]+</span></li><li><span class="name">wiki文内链接：\[[0-9]+\]</span></li><li><span class="name">UUID： \S{8}-\S{4}-\S{4}-\S{4}-\S{12}， 形如：[2e01d4ac-94db-33f3-37e1-55840495ce71]</span></li><li><span class="name">空行：\n[\s| ]*\r</span></li><li><span class="name">匹配首尾空格：(^\s*)|(\s*$)</span></li><li><span class="name">首尾空格：(^\s*)|(\s*$)</span></li><li><span class="name">任何数字 ：(-?\d*)(\.\d+)?</span></li><li><span class="name">整数：^-?\d+$</span></li><li><span class="name">正整数：^[0-9]*[1-9][0-9]*$</span></li><li><span class="name">负整数：^-[0-9]*[1-9][0-9]*$</span></li><li><span class="name">非负整数（正整数 + 0）： ^\d+$</span></li><li><span class="name">非正整数（负整数 + 0）： ^((-\d+)|(0+))$</span></li><li><span class="name">浮点数（即小数）：(-?\d*)\.?\d+</span></li><li><span class="name">正浮点数：^((0-9)+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*))$</span></li><li><span class="name">负浮点数： &nbsp;^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$</span></li><li><span class="name">非负浮点数（正浮点数 + 0）： ^\d+(\.\d+)?$</span></li><li><span class="name">非正浮点数：^((-\d+\.\d+)?)|(0+(\.0+)?))$</span></li><li><span class="name">非正浮点数（负浮点数 + 0）： ^((-\d+(\.\d+)?)|(0+(\.0+)?))$</span></li><li><span class="name">英文字符数字串：^[A-Za-z0-9]+$</span></li><li><span class="name">字母、数字加下划线串：^\w+$</span></li><li><span class="name">中文：^[\u0391-\uFFE5]+$</span></li><li><span class="name">中文： [\u4e00-\u9fa5]</span></li><li><span class="name">双字节字符(包括汉字在内)：^\u0000-\uffff</span></li><li><span class="name">Email：^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$</span></li><li><span class="name">Email：\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*</span></li><li><span class="name">Email： ^([w-.]+)@(([[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}.)|(([w-]+.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(]?)$</span></li><li><span class="name">URL网址：^</span></li><li><span class="name">(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;amp;:/~\+#]*[\w\-\@?^=%&amp;amp;/~\+#])?$</span></li><li><span class="name">电话号码：^((\(\d{2,3}\))|(\d{3}\-))?(\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(\-\d{1,4})?$</span></li><li><span class="name">手机号码：^((\(\d{2,3}\))|(\d{3}\-))?13\d{9}$</span></li><li><span class="name">电话区号：/^0\d{2,3}$/</span></li><li><span class="name">国内电话号码：(\d{3}-|\d{4}-)?(\d{8}|\d{7})?</span></li><li><span class="name">电话号码： /^((\+?[0-9]{2,4}\-[0-9]{3,4}\-)|([0-9]{3,4}\-))?([0-9]{7,8})(\-[0-9]+)?$/</span></li><li><span class="name">中国手机号码：(86)*0*13\d{9}</span></li><li><span class="name">中国固定电话号码：(\(\d{3,4}\)|\d{3,4}-|\s)?\d{8}</span></li><li><span class="name">中国电话号码（包括移动和固定电话）：(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}</span></li><li><span class="name">IP地址： ^(d{1,2}|1dd|2[0-4]d|25[0-5]).(d{1,2}|1dd|2[0-4]d|25[0-5]).(d{1,2}|1dd|2[0-4]d|25[0-5]).(d{1,2}|1dd|2[0-4]d|25[0-5])$</span></li><li><span class="name">IP地址：(\d+)\.(\d+)\.(\d+)\.(\d+)</span></li><li><span class="name">中国邮政编码：[1-9]{1}(\d+){5}</span></li><li><span class="name">腾讯QQ号：^[1-9]*[1-9][0-9]*$</span></li><li><span class="name">帐号(字母开头，允许5-16字节，允许字母数字下划线)：^[a-zA-Z][a-zA-Z0-9_]{4,15}$</span></li><li><span class="name">HTML标记：&lt;(.*)&gt;.*&lt;\/\1&gt;|&lt;(.*) \/&gt;</span></li><li><span class="name">网络链接：(h|H)(r|R)(e|E)(f|F) *= *('|")?(\w|\\|\/|\.)+('|"| *|&gt;)?</span></li><li><span class="name">邮件地址：\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*</span></li><li><span class="name">图片链接：(s|S)(r|R)(c|C) *= *('|")?(\w|\\|\/|\.)+('|"| *|&gt;)?</span></li><li><span class="name">年-月-日： /^(d{2}|d{4})-((0([1-9]{1}))|(1[1|2]))-(([0-2]([1-9]{1}))|(3[0|1]))$/</span></li><li><span class="name">月/日/年： /^((0([1-9]{1}))|(1[1|2]))/(([0-2]([1-9]{1}))|(3[0|1]))/(d{2}|d{4})$/</span></li></ul></li><li><span class="name"><b>正则表达式语法</b></span><ul><li><span class="name"><b>通配符</b></span><ul><li><span class="name"><b>*&nbsp; 表示匹配前面的子表达式零次或多次。</b></span></li><li><span class="name"><b>+&nbsp;匹配前面的子表达式一次或多次。+&nbsp;等价于&nbsp;{1,}。</b></span></li><li><span class="name"><b>?&nbsp;匹配前面的子表达式零次或一次。?&nbsp;等价于&nbsp;{0,1}。</b></span></li><li><span class="name">{n}&nbsp;n&nbsp;是一个非负整数，匹配确定的n&nbsp;次。</span></li><li><span class="name">{n,}&nbsp;n&nbsp;是一个非负整数，至少匹配n&nbsp;次。</span></li><li><span class="name">{n,m}&nbsp;m&nbsp;和&nbsp;n&nbsp;均为非负整数，其中n&nbsp;&lt;=&nbsp;m。最少匹配&nbsp;n&nbsp;次且最多匹配&nbsp;m&nbsp;次。在逗号和两个数之间不能有空格。</span></li><li><span class="name">?&nbsp;当该字符紧跟在任何一个其他限制符&nbsp;(*,&nbsp;+,&nbsp;?,&nbsp;{n},&nbsp;{n,},&nbsp;{n,m})&nbsp;后面时，匹配模式是非贪婪的。非贪婪模式尽可能少的匹配所搜索的字符串，而默认的贪婪模式则尽可能多的匹配所搜索的字符串。</span></li><li><span class="name">.&nbsp;匹配除&nbsp;"\n"&nbsp;之外的任何单个字符。要匹配包括&nbsp;’\n’&nbsp;在内的任何字符，请使用象&nbsp;’[.\n]’&nbsp;的模式。</span></li><li><span class="name"><b>x|y&nbsp;匹配&nbsp;x&nbsp;或&nbsp;y。</b></span></li><li><span class="name"><b>[xyz]&nbsp;字符集合。</b></span></li><li><span class="name"><b>[^xyz]&nbsp;负值字符集合。</b></span></li><li><span class="name"><b>[a-z]&nbsp;字符范围，匹配指定范围内的任意字符。</b></span></li><li><span class="name"><b>[^a-z]&nbsp;负值字符范围，匹配任何不在指定范围内的任意字符。</b></span></li></ul></li><li><span class="name">转移符</span><ul><li><span class="name"><b>^&nbsp;匹配输入字符串的开始位置。</b></span></li><li><span class="name"><b>$&nbsp;匹配输入字符串的结束位置。</b></span></li><li><span class="name">\&nbsp;是转移符, 将下一个字符标记为一个特殊字符、或一个原义字符、或一个后向引用、或一个八进制转义符。</span></li><li><span class="name">\b&nbsp;匹配一个单词边界，也就是指单词和空格间的位置。</span></li><li><span class="name">\B&nbsp;匹配非单词边界。</span></li><li><span class="name">\cx&nbsp;匹配由x指明的控制字符。</span></li><li><span class="name">\d&nbsp;匹配一个数字字符。等价于&nbsp;[0-9]。</span></li><li><span class="name">\D&nbsp;匹配一个非数字字符。等价于&nbsp;[^0-9]。</span></li><li><span class="name">\f&nbsp;匹配一个换页符。等价于&nbsp;\x0c&nbsp;和&nbsp;\cL。</span></li><li><span class="name">\n&nbsp;匹配一个换行符。等价于&nbsp;\x0a&nbsp;和&nbsp;\cJ。</span></li><li><span class="name">\r&nbsp;匹配一个回车符。等价于&nbsp;\x0d&nbsp;和&nbsp;\cM。</span></li><li><span class="name">\s&nbsp;匹配任何空白字符，包括空格、制表符、换页符等等。等价于[&nbsp;\f\n\r\t\v]。</span></li><li><span class="name">\S&nbsp;匹配任何非空白字符。等价于&nbsp;[^&nbsp;\f\n\r\t\v]。</span></li><li><span class="name">\t&nbsp;匹配一个制表符。等价于&nbsp;\x09&nbsp;和&nbsp;\cI。</span></li><li><span class="name">\v&nbsp;匹配一个垂直制表符。等价于&nbsp;\x0b&nbsp;和&nbsp;\cK。</span></li><li><span class="name">\w&nbsp;匹配包括下划线的任何单词字符。等价于’[A-Za-z0-9_]’。</span></li><li><span class="name">\W&nbsp;匹配任何非单词字符。等价于&nbsp;’[^A-Za-z0-9_]’。</span></li><li><span class="name">\num&nbsp;匹配&nbsp;num，其中num是一个正整数。对所获取的匹配的引用。</span></li><li><span class="name">\xn&nbsp;匹配&nbsp;n，其中&nbsp;n&nbsp;为十六进制转义值。十六进制转义值必须为确定的两个数字长。</span></li><li><span class="name">\n&nbsp;标识一个八进制转义值或一个后向引用。如果&nbsp;\n&nbsp;之前至少&nbsp;n&nbsp;个获取的子表达式，则&nbsp;n&nbsp;为后向引用。否则，如果&nbsp;n&nbsp;为八进制数字&nbsp;(0-7)，则&nbsp;n&nbsp;为一个八进制转义值。</span></li><li><span class="name">\nm&nbsp;标识一个八进制转义值或一个后向引用。如果&nbsp;\nm&nbsp;之前至少有is&nbsp;preceded&nbsp;by&nbsp;at&nbsp;least&nbsp;nm&nbsp;个获取得子表达式，则&nbsp;nm&nbsp;为后向引用。如果&nbsp;\nm&nbsp;之前至少有&nbsp;n&nbsp;个获取，则&nbsp;n&nbsp;为一个后跟文字&nbsp;m&nbsp;的后向引用。如果前面的条件都不满足，若&nbsp;n&nbsp;和&nbsp;m&nbsp;均为八进制数字&nbsp;(0-7)，则&nbsp;\nm&nbsp;将匹配八进制转义值&nbsp;nm。</span></li><li><span class="name">\nml&nbsp;如果&nbsp;n&nbsp;为八进制数字&nbsp;(0-3)，且&nbsp;m&nbsp;和&nbsp;l&nbsp;均为八进制数字&nbsp;(0-7)，则匹配八进制转义值&nbsp;nml。</span></li><li><span class="name">\un&nbsp;匹配&nbsp;n，其中&nbsp;n&nbsp;是一个用四个十六进制数字表示的Unicode字符。</span></li></ul></li><li><span class="name">模式匹配</span><ul><li><span class="name">(pattern)&nbsp;匹配pattern&nbsp;并获取这一匹配。</span></li><li><span class="name">(?:pattern)&nbsp;匹配pattern&nbsp;但不获取匹配结果，也就是说这是一个非获取匹配，不进行存储供以后使用。</span></li><li><span class="name">(?=pattern)&nbsp;正向预查，在任何匹配&nbsp;pattern&nbsp;的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。</span></li><li><span class="name">(?!pattern)&nbsp;负向预查，与(?=pattern)作用相反</span></li></ul></li></ul></li></ul>
  </body>
</html>