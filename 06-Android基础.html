<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <style>
      body {font-family:'Helvetica Neue', Arial, sans-serif; color:#333; font-size:13px; line-height:17px;}
      body .name,body .note {white-space:pre-wrap;}
      body ul {list-style:disc; margin:0; padding:0;}
      body li {margin:4px 0 4px 20px; padding:0;}
      body>.name {font-size:16px; line-height:21px;}
      body>.note {font-size:13px; line-height:17px;}
      body>ul {margin-top:15px;}
      body .name.done {text-decoration:line-through; color:#999;}
      body .note {font-size:12px; color:#666;}
    </style>
  </head>
  <body>
    <span class="name">06-Android基础</span><ul><li><span class="name">Android版本列表</span><ul><li><span class="name">Android 5.0/5.1 - Lollipop（Android L）- API 21/22</span></li><li><span class="name">Android 6.0 - Marshmallow（Android M）- API 23</span></li><li><span class="name">Android 7.0/7.1 -Nougat（Android N） - API 24/25</span></li><li><span class="name">Android 8.0/8.1 -Oreo（Android O） - API 26/27</span></li><li><span class="name">Android 9.0 -Pie （Android P） - API 28</span></li><li><span class="name">Android 10.0 -（未知）（Android Q）</span></li></ul></li><li><span class="name">重要网址</span><ul><li><span class="name">Android官网：&nbsp;<a class="contentLink" target="_blank" rel="noreferrer" href="https://developer.android.google.cn/index.html">https://developer.android.google.cn/index.html</a>&nbsp;(不需要梯子)</span></li><li><span class="name">Android官网：&nbsp;<a class="contentLink" target="_blank" rel="noreferrer" href="https://developer.android.com/index.html">https://developer.android.com/index.html</a>&nbsp;(需要梯子)</span></li><li><span class="name"><b>Android代码仓, 清华大学镜像站</b>: <a class="contentLink" target="_blank" rel="noreferrer" href="https://mirrors.tuna.tsinghua.edu.cn/help/AOSP/">https://mirrors.tuna.tsinghua.edu.cn/help/AOSP/</a></span></li></ul></li><li><span class="name">重要术语</span><ul><li><span class="name">Dalvik：针对移动设备定制的Java虚拟机.</span></li><li><span class="name">AVD：&nbsp;(android virtual machine):安卓虚拟设备,就是安卓的模拟器</span></li><li><span class="name">ADT：&nbsp;(android development tools)安卓开发工具</span></li><li><span class="name">SDK：(software development kit)软件开发工具包,就是安卓系统,平台架构等的工具集合,如adb.exe</span></li><li><span class="name">DDMS：(dalvik debug monitor service)安卓调试工具</span></li><li><span class="name">adb：安卓调试桥,在sdk的platform-tools目录下,功能很多,命令行必备</span></li><li><span class="name">DX工具：将.class转换成.dex文件</span></li><li><span class="name">AAPT：(android asset packing tool),安卓资源打包工具</span></li><li><span class="name">R.java文件：由aapt工具根据App中的资源文件自动生成,可以理解为资源字典</span></li><li><span class="name">AndroidManifest.xml：app包名 + 组件声明 + 程序兼容的最低版本 + 所需权限等程序的配置文件. 一个apk一个.</span></li><li><span class="name">APK: Android Package, 即安卓应用安装包. APK文件其实是zip格式，但后缀名被修改为apk，通过UnZip解压后，可以看到Dex文件.</span></li><li><span class="name">Dex: DalvikVM executes的简称，即Android Dalvik执行程序, Dalvik字节码. </span></li><li><span class="name">NDK: native develop kit, 原生代码开发工具. 指用C/C++开发应用层代码的一套库.</span></li><li><span class="name">JNI: java native interface. Java 和 C++代码的互操作层.</span></li></ul></li><li><span class="name">项目文件夹各子目录都是什么?</span><ul><li><span class="name">src：存放项目的源代码。</span></li><li><span class="name">res：存放项目需要的资源文件，比如字符串，布局，皮肤等，这里面每个资源的索引都保存在R.java类中。</span><ul><li><span class="name">drawable：存放图片资源，每添加一个图片资源，R.drawble类中对应添加一个图片索引。不同的drawable文件夹存放不同分辨率的图片。</span></li><li><span class="name">layout：存放界面的布局，每一个布局文件对应R.layout里面的布局索引，索引名称与布局文件名称一致。</span></li><li><span class="name">values：里面存放xml资源文件，每个xml文件可以存放字符串、数组、样式等数据。xml文件可以按照自己需要进行新建。</span><ul><li><span class="name">string.xml文件中存放了两个字符串数据，那么在R.string类中会保存两个字符串数据的索引，索引名称和字符串资源中的name标签的值一致。</span></li><li><span class="name">添加一个数组资源，在R.array类中会添加一个数组资源索引，索引名称和标签中name属性值一致。</span></li><li><span class="name">布局中文件每个控件的id也会被添加到R.id类中去。其中在为控件指定id时有两种方式，一种是@id/btn&nbsp;，另外一种是@+id/btn&nbsp;，前一种是R.id类中已经有了这个id定义，后一种是新增一个btn的id索引。</span></li></ul></li></ul></li><li><span class="name">assets：assets文件夹里面都存放原始的文件格式，不会在R.java中生成一个ID. 在代码中通过AssetManager来进行访问。比如需要在代码中访问加载一个html文件，或者一个txt文档，那么就需要把html文件和txt文档保存到assets文件下。</span></li><li><span class="name">gen：编译时自动生成的，其中最关键的是 R.java 的静态类，它里面包括很多静态类（内部类），每个静态类中的静态成员名称都对应res文件夹中的一个资源名称，保存着该资源的索引，方便在代码中进行获取资源。包括如下: </span><ul><li><span class="name">id：保存布局文件中控件id，</span></li><li><span class="name">layout：保存布局文件的索引，</span></li><li><span class="name">string：保存字符串资源的索引。</span></li><li><span class="name">array类: 保存数组的资源索引;</span></li><li><span class="name">drawable：保存图片索引，</span></li></ul></li><li><span class="name">bin：存放编译后的apk和资源文件。</span></li></ul></li><li><span class="name">项目文件夹中各种资源的使用</span><ul><li><span class="name">使用布局文件</span><ul><li><span class="name">在Activity的onCreate方法中，调用布局文件，渲染界面。</span><ul><li><span class="name">setContentView(R.layout.activity_main);   // 实现界面的渲染</span></li></ul></li><li><span class="name">获取布局文件中的控件</span><ul><li><span class="name">TextView myView=(TextView) this.findViewById(R.id.textView1);</span></li></ul></li></ul></li><li><span class="name">获取values文件夹下的各种资源</span><ul><li><span class="name">访问字符串资源</span><ul><li><span class="name">String sstr=this.getResources().getString(R.string.app_name);//获取app名称</span></li></ul></li><li><span class="name">访问数组资源</span><ul><li><span class="name">int []myarray=this.getResources().getIntArray(<a class="contentLink" target="_blank" rel="noreferrer" href="http://R.array.my">R.array.my</a>_array);</span></li></ul></li></ul></li><li><span class="name">获取assets文件夹下的资源</span><ul><li><span class="name">在assets文件中保存一个html页面，我们需要在代码利用WebView控件加载这个html页面.</span><ul><li><span class="name">myWebView.loadUrl("<a class="contentLink" target="_blank" rel="noreferrer" href="file:///android_asset/myblog.html">file:///android_asset/myblog.html</a>");  //注意获取文件的路径格式</span></li></ul></li></ul></li></ul></li><li><span class="name">APK文件的结构</span><ul><li><span class="name">APK文件其实是zip格式, 解压缩后是如下目录: </span></li><li><span class="name">META-INF\（Jar文件中常可以看到）；</span></li><li><span class="name">res\（存放资源文件的目录）；</span></li><li><span class="name">AndroidManifest.xml（程序全局配置文件）；</span></li><li><span class="name">classes.dex（Dalvik字节码）；</span></li><li><span class="name">resources.arsc(编译后的二进制资源文件）。</span></li></ul></li><li><span class="name">APK反编译</span><ul><li><span class="name">apk反编译就是通过使用apk编译工具，将apk文件中的源文件和资源反编译出来，得到的源文件和资源文件可以进行处理后再进行编译，以达到个性化定制、汉化apk等目的。</span></li><li><span class="name">最典型的apk编译工具的核心是apktool，但是因为操作需要调用cmd命令，所以出现了很多具有可视化界面的各种编译工具，像easyapk、apkdb、doapk。</span></li><li><span class="name">dex2jar.jar，将apk中的classes.dex转化成Jar文件，再通过jd-gui工具反编译jar文件。</span></li></ul></li><li><span class="name">Android架构的简单理解</span><ul><li><span class="name">Application(应用程序层)&nbsp;, 即应用软件，也包括系统内置的一组应用程序，使用的是Java语言.</span></li><li><span class="name">Application Framework(应用程序框架层)&nbsp;无论系统内置或者我们自己编写的App，都需要使用到这层，比如我们想弄来电黑名单，自动挂断电话，我们就需要用到电话管理(TelephonyManager) 通过该层我们就可以很轻松的实现挂断操作，而不需要关心底层实现.</span></li><li><span class="name">Android Runtime(Android运行时)&nbsp;</span><ul><li><span class="name">Android核心库集</span></li><li><span class="name">Dalvik虚拟机: 针对移动设备定制的Java虚拟机，它的特点:不需要很快的CPU计算速度和大量的内存空间;而每个App都单独地运行在单独的Dalvik虚拟机内每个app对于一条Dalvik进程.</span></li></ul></li><li><span class="name">Libraries(库): 一组C/C++库，为平台的不同组件所使用，比如媒体框架.</span></li><li><span class="name">Linux内核. 即底层驱动的部分，一些系统服务，比如安全性，内存管理以及进程管理等.</span></li></ul></li></ul>
  </body>
</html>