<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <style>
      body {font-family:'Helvetica Neue', Arial, sans-serif; color:#333; font-size:13px; line-height:17px;}
      body .name,body .note {white-space:pre-wrap;}
      body ul {list-style:disc; margin:0; padding:0;}
      body li {margin:4px 0 4px 20px; padding:0;}
      body>.name {font-size:16px; line-height:21px;}
      body>.note {font-size:13px; line-height:17px;}
      body>ul {margin-top:15px;}
      body .name.done {text-decoration:line-through; color:#999;}
      body .note {font-size:12px; color:#666;}
    </style>
  </head>
  <body>
    <span class="name">53-对视</span><ul><li><span class="name">由于人们聊天时通常是看显示对方画面的窗口， 而不是直接看着摄像头，导致视频聊天过程中很难达到双方自然对视的交流，往往是侧脸交流、俯视交流或者仰视交流，使得视频聊天没有实现真正意义上的面对面交流，缺少自然对视时的亲和力。</span></li><li><span class="name">要实现人眼自然对视自适应矫正，首先要对眼睛进行检测提取。</span></li><li><span class="name">人脸检测与定位，能够缩小眼睛检测的范围，提高速度。目前人脸检测的研究很多，人脸检测模型基本分为 3类：</span><ul><li><span class="name">基于特征的方法</span><ul><li><span class="name">利用人脸的先验知识的规则进行人脸检测.</span></li></ul></li><li><span class="name">基于模板的方法</span><ul><li><span class="name">通过计算人脸模板和待检测图像之间的相关性来实现人脸检测功能.</span></li><li><span class="name">这种方法算法简单，容易实现.</span></li><li><span class="name">但由于模板尺寸、性质不能进行 自适应变化 ，导致这种方法的局限性.</span></li></ul></li><li><span class="name">统计理论的方法</span><ul><li><span class="name">利用统计分析与汲取学习的方法分别寻找人脸和非人脸样本特征，利用这些特征构建分类器，使用分类进行人脸检测.</span></li><li><span class="name">这种方法可以减小由于人眼观测不完整和不精确带来的错误而不得不扩大检测的范围.</span></li><li><span class="name">缺点是需要大量的统计特征，样本训练费时费力。</span></li></ul></li></ul></li><li><span class="name">目前人眼定位及检测的方法，可以分为4大类:</span><ul><li><span class="name">基于模板匹配的方法</span><ul><li><span class="name">基于模板匹配的方法对初始位置有要求，且计算量大，实时性差，在通用性方面受到了很大的限制.</span></li></ul></li><li><span class="name">基于灰度投影的方法</span><ul><li><span class="name">基于灰度投影的方法速度快，但波峰谷的分布对于不同人脸和姿态变化非常敏感，另外投影图中干扰噪声太大、曲线不规则，很难在此基础上直接找到特征点.</span></li></ul></li><li><span class="name">基于统计的方法</span><ul><li><span class="name">基于统计的方法是通过对大量目标样本和非目标样本进行训练学习得到一组模型参数，然后用得到的模型建立分类器来检测目标，该方法具有较高的准确度。</span></li></ul></li><li><span class="name">基于规则的方法</span><ul><li><span class="name">基于知识的方法是利用几何人眼的几何性质实施检测，具有很大的局限性，通用性比较差.</span></li></ul></li></ul></li><li><span class="name">人眼自然对视自适应矫正方法</span><ul><li><span class="name">自然注视摄影头, 拍下模板图片, 含睁眼模板图片和闭眼模板图片.</span></li><li><span class="name">从两个图片中准确提取眼睛区域, 获得对应的模板.</span><ul><li><span class="name">通过对上下眼睑和眼角点的提取，分别提取出左右眼的外切矩形，从而得到精确的双眼区域。</span></li><li><span class="name">在模板图片中提取自然对视时的双眼区域，作为替换的标准模板。</span></li><li><span class="name">在标准模板中，眼睛的高度即上眼睑的最高点与下眼睑的最低点之间的距离为L。</span></li></ul></li><li><span class="name">在闭眼图片中利用相同的方法提取闭眼区域。准确提取眼睛区域, 获得眼睛高度L1</span><ul><li><span class="name">在闭眼区域中，眼睛的高度为L，左右眼角点的距离为D。</span></li></ul></li><li><span class="name">以上是数据准备阶段, 下面是使用阶段:</span></li><li><span class="name">抓取视频中的单帧图像</span></li><li><span class="name">准确提取眼睛区域, 获得眼睛高度L2. 如果L1大于L2, 则做替换处理.</span><ul><li><span class="name">视频聊天时，对单帧图像进行处理，得到图像中的双眼区域，通过判断图像中眼睛的高度L和左右眼角点的距离D，决定是否要进行双眼区域的替换。</span></li><li><span class="name">令L=L：Ic(D／D)，如果L：&lt;L。，说明不是闭眼状态，则调整标准模板的尺寸与图像的双眼区域相同，然后替换双眼区域；否则，说明图像中人眼处于闭眼状态，此时不需要进行替换。</span></li></ul></li></ul></li><li><span class="name">人眼区域粗检测: 级联的Harr分类器</span><ul><li><span class="name">Haar特征有3类：边缘、线性和中心环绕特征，组成特征模板，如图2所示。特征模板内有白色和黑色2种矩形，定义模板的特征值为白色矩形像素和减去黑色矩形像素和。确定特征形式后，Harr—like特征的数量取决于训练样本图像矩阵大小，特征模板在子窗口内任意放置，一种形态称为一种特征，找出所有子窗口的特征是进行弱分类训练的基础。</span></li><li><span class="name">单个类Harr特征的分类能力很弱，但是通过特定的级联算法可以将简单类Harr特征应用于目标检测。分类器中“级联”指最终的分类器是由几个简单分类器级联组成。</span></li><li><span class="name">在图像检测中，被检窗口依次通过每级分类器，这样在前面几层检测中大部分候选区域就被排除，全部通过每级分类器检测的区域即目标区域。级联分类器利用基础分类器的自我训练得到。基础分类器是至少有2个叶节点的决策树分类器。Harr特征是基础分类器的输入。</span></li><li><span class="name">分类器训练完成之后，就可以应用于输入图像中感兴趣区域(具有与训练样本相同的尺寸)的检测。若检测到目标区域，则分类器输出为1，否则，输出为0。</span></li><li><span class="name">图像在移动中搜索窗VI，通过检测每一个位置来确定可能的目标。为了搜索不同大小的目标物体，分类器被设计为可以改变尺寸，这样比改变待检图像的尺寸大小更为有效。</span></li><li><span class="name">因此，扫描程序通常需要用不同比例大小的搜索窗口对图片进行几次扫描。</span></li></ul></li><li><span class="name">人眼大致区域的提取</span><ul><li><span class="name">训练出Harr人脸分类器。对图像进行处理，将彩色图像转化为灰度图像，利用级联的Hart人脸分类器对人脸区域进行检测，提取包含人脸的圆形区域。</span></li><li><span class="name">在提取的人脸区域中进行人眼检测，缩小人眼检测的范围。根据人眼在人脸中的位置，只在人脸圆形区域的上半部分进行人眼检测，进一步缩小了搜寻区域。</span></li><li><span class="name">训练Harr人眼分类器，在人脸圆形区域上半部分的左半部提取左眼区域，如图4(a)所示，在人脸圆形区域上半部分的右半部提取右眼区域，如图4(b)所示。</span></li></ul></li><li><span class="name">人眼区域精确提取</span><ul><li><span class="name">&nbsp;图像二值化</span><ul><li><span class="name"></span></li></ul></li></ul></li></ul>
  </body>
</html>